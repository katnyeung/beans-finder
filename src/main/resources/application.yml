spring:
  application:
    name: beans-finder

  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://localhost:5432/coffee_db}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:password}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  neo4j:
    uri: ${NEO4J_URI:bolt://localhost:7687}
    authentication:
      username: ${NEO4J_USERNAME:neo4j}
      password: ${NEO4J_PASSWORD:password}

server:
  port: ${SERVER_PORT:8080}

# Custom application properties
coffee:
  perplexity:
    api-key: ${PERPLEXITY_API_KEY:}
    base-url: https://api.perplexity.ai
    model: llama-3.1-sonar-large-128k-online

  crawler:
    enabled: ${CRAWLER_ENABLED:true}
    delay-seconds: ${CRAWLER_DELAY_SECONDS:2}
    retry-attempts: ${CRAWLER_RETRY_ATTEMPTS:3}
    update-interval-days: ${CRAWLER_UPDATE_INTERVAL_DAYS:14}
    # Run daily at 2 AM
    cron-schedule: "0 0 2 * * ?"

logging:
  level:
    com.coffee: DEBUG
    org.springframework.web: INFO
    org.hibernate: INFO
